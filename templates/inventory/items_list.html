{% extends "base.html" %}
{% block title %}Inventory | Matyz Stock{% endblock %}
{% block page_title %}Inventory{% endblock %}

{% block content %}
  <div class="flex flex-col md:flex-row md:items-center gap-3 mb-4">
    <form class="flex-1 flex gap-2" method="get">
      <input
        name="q"
        value="{{ q }}"
        placeholder="Search by name, SKU, brand, vendor..."
        class="w-full px-3 py-2 rounded-sm matyz-surface outline-none"
      />
      <button class="px-4 py-2 rounded-sm matyz-btn text-sm" type="submit">Search</button>
    </form>

    <a class="px-4 py-2 rounded-sm matyz-btn text-sm text-center" href="{% url 'inventory:item_create' %}">
      + New Item
    </a>
  </div>

  <div class="grid gap-3">
    {% for item in items %}
      <a href="{% url 'inventory:item_detail' item.pk %}" class="matyz-surface rounded-sm p-4 hover:opacity-95 block">
        <div class="flex items-start justify-between gap-3">
          <div>
            <div class="font-semibold">{{ item.name }}</div>
            <div class="text-xs matyz-muted">SKU: {{ item.sku }}{% if item.category %} â€¢ {{ item.category.name }}{% endif %}</div>
          </div>
          <div class="text-right">
            <div class="text-sm"><span class="matyz-muted">Stock:</span> <span class="font-semibold">{{ item.stock|default_if_none:0 }}</span></div>
            <div class="text-xs matyz-muted">Price: {{ item.sell_price }}</div>
          </div>
        </div>
      </a>
    {% empty %}
      <div class="matyz-muted text-sm">No items found.</div>
    {% endfor %}
  </div>
{% endblock %}
